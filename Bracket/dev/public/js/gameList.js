// Generated by CoffeeScript 1.2.1-pre
(function() {
  var currentRound, currentYear, getParameterByName, loadData;

  getParameterByName = function(name) {
    var regex, regexS, results;
    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
    regexS = "[\\?&]" + name + "=([^&#]*)";
    regex = new RegExp(regexS);
    results = regex.exec(window.location.search);
    if (results == null) {
      return "";
    } else {
      return decodeURIComponent(results[1].replace(/\+/g, " "));
    }
  };

  currentYear = getParameterByName("year");

  currentRound = getParameterByName("round");

  loadData = function() {
    return $.getJSON("data/bracket" + currentYear + ".json", function(data) {
      var gameData, numGames;
      gameData = data.bracket.round[currentRound - 1];
      numGames = gameData.game.length;
      console.log(gameData);
      return $("#listContent").append(Mustache.to_html($("#gameList-template").html(), {
        scoreboardData: gameData
      }));
    });
  };

  $(document).ready(function() {
    return loadData();
  });

}).call(this);
